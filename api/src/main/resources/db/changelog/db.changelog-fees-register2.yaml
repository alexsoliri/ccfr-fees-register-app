databaseChangeLog:
    - changeSet:
        id: 17
        author: tarunp
        changes:
          - createTable:
              tableName: amount_type
              columns:
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO amount_type (name)
                VALUES
                  ('flat'),
                  ('percentage'),
                  ('rateable');
          - createTable:
              tableName: channel_type
              columns:
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO channel_type (name)
                VALUES
                  ('online'),
                  ('bulk'),
                  ('default');
          - createTable:
              tableName: direction_type
              columns:
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO direction_type (name)
                VALUES
                  ('cost recovery'),
                  ('enhanced'),
                  ('license'),
                  ('partial cost recovery'),
                  ('pre cost recovery'),
                  ('reduced churn'),
                  ('simplified');
          - createTable:
              tableName: event_type
              columns:
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO event_type (name)
                VALUES
                  ('enforcement'),
                  ('judicial review'),
                  ('appeal'),
                  ('search'),
                  ('issue'),
                  ('general application'),
                  ('copies'),
                  ('hearing'),
                  ('miscellaneous'),
                  ('cost assessment');
          - createTable:
              tableName: fee_type
              columns:
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO fee_type (name)
                VALUES
                  ('fixed fee'),
                  ('range fee');
          - createTable:
              tableName: jurisdiction1
              columns:
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO jurisdiction1 (name)
                VALUES
                  ('civil'),
                  ('family'),
                  ('tribunal');
          - createTable:
              tableName: jurisdiction2
              columns:
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO jurisdiction2 (name)
                VALUES
                  ('county court'),
                  ('high court'),
                  ('magistrates court'),
                  ('court of protection'),
                  ('family court'),
                  ('probate registry'),
                  ('gambling tribunal'),
                  ('gender recognition panel'),
                  ('immigration and asylum chamber'),
                  ('property chamber'),
                  ('tax chamber');
          - createTable:
              tableName: service_type
              columns:
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO service_type (name)
                VALUES
                  ('civil money claims'),
                  ('possession claim'),
                  ('insolvency'),
                  ('private law'),
                  ('public law'),
                  ('divorce'),
                  ('adoption'),
                  ('gambling tribunal'),
                  ('gender recognition tribunal'),
                  ('immigration and asylum chamber tribunal'),
                  ('property chamber'),
                  ('tax chamber'),
                  ('probate'),
                  ('general'),
                  ('magistrates');

    - changeSet:
        id: 19
        author: tarunp
        changes:
          - createTable:
              tableName: fee
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      primaryKeyName: pk_fee2_id
                      nullable: false
                - column:
                    name: code
                    type: varchar(10)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: memo_line
                    type: varchar(100)
                - column:
                    name: amount_type
                    type: varchar(50)
                    constraints:
                      foreignKeyName: fk_amount_type
                      references: amount_type(name)
                - column:
                    name: channel_type
                    type: varchar(50)
                    constraints:
                      foreignKeyName: fk_channel_type
                      references: channel_type(name)
                - column:
                    name: direction_type
                    type: varchar(50)
                    constraints:
                      foreignKeyName: fk_direction_type
                      references: direction_type(name)
                - column:
                    name: event_type
                    type: varchar(50)
                    constraints:
                      foreignKeyName: fk_event_type
                      references: evenSt_type(name)
                - column:
                    name: fee_type
                    type: varchar(50)
                    constraints:
                      foreignKeyName: fk_fee_type
                      references: fee_type(name)
                - column:
                    name: jurisdiction1
                    type: varchar(50)
                    constraints:
                      foreignKeyName: fk_jurisdiction1
                      references: jurisdiction1(name)
                - column:
                    name: jurisdiction2
                    type: varchar(50)
                    constraints:
                      foreignKeyName: fk_jurisdiction2
                      references: jurisdiction2(name)
                - column:
                    name: service_type
                    type: varchar(50)
                    constraints:
                      foreignKeyName: fk_service_type
                      references: service_type(name)

    - changeSet:
        id: 20
        author: tarunp
        changes:
          - createTable:
              tableName: fee_version
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: fee_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_fee2_id
                      references: fee(id)
                - column:
                    name: description
                    type: varchar(1000)
                - column:
                    name: version
                    type: int
                - column:
                    name: status
                    type: varchar(50)
                - column:
                    name: valid_from
                    type: timestamp
                - column:
                    name: valid_to
                    type: timestamp
                - column:
                    name: min_range
                    type: bigint
                - column:
                    name: max_range
                    type: bigint
                - column:
                    name: fee_amount
                    type: bigint
                - column:
                    name: min_fee_amount
                    type: bigint
                - column:
                    name: max_fee_amount
                    type: bigint
                - column:
                    name: percentage
                    type: decimal(3,2)
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: created_by
                    type: varchar(50)
                - column:
                    name: updated_by
                    type: varchar(50)


