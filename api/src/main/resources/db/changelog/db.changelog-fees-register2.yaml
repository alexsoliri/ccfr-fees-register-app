databaseChangeLog:
    - changeSet:
        id: 17
        author: tarunp
        changes:
          - createTable:
              tableName: amount_type
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO amount_type (id, name)
                VALUES
                  (1, 'flat'),
                  (2, 'percentage'),
                  (3, 'rateable');
          - createTable:
              tableName: channel_type
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO channel_type (id, name)
                VALUES
                  (1, 'online'),
                  (2, 'bulk'),
                  (3, 'default');
          - createTable:
              tableName: direction_type
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO direction_type (id, name)
                VALUES
                  (1, 'cost recovery'),
                  (2, 'enhanced'),
                  (3, 'license'),
                  (4, 'partial cost recovery'),
                  (5, 'pre cost recovery'),
                  (6, 'reduced churn'),
                  (7, 'simplified');
          - createTable:
              tableName: event_type
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO event_type (id, name)
                VALUES
                  (1, 'enforcement'),
                  (2, 'judicial review'),
                  (3, 'appeal'),
                  (4, 'search'),
                  (5, 'issue'),
                  (6, 'general application'),
                  (7, 'copies'),
                  (8, 'hearing'),
                  (9, 'miscellaneous'),
                  (10, 'cost assessment');
          - createTable:
              tableName: fee_type
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO fee_type (id, name)
                VALUES
                  (1, 'fixed fee'),
                  (2, 'range fee');
          - createTable:
              tableName: jurisdiction1
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO jurisdiction1 (id, name)
                VALUES
                  (1, 'civil'),
                  (2, 'family'),
                  (3, 'tribunal');
          - createTable:
              tableName: jurisdiction2
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO jurisdiction2 (id, name)
                VALUES
                  (1, 'county court'),
                  (2, 'high court'),
                  (3, 'magistrates court'),
                  (4, 'court of protection'),
                  (5, 'family court'),
                  (6, 'probate registry'),
                  (7, 'gambling tribunal'),
                  (8, 'gender recognition panel'),
                  (9, 'immigration and asylum chamber'),
                  (10, 'property chamber'),
                  (11, 'tax chamber');
          - createTable:
              tableName: service_type
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: name
                    type: varchar(50)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
          - sql:
              splitStatements: true
              sql: >
                INSERT INTO service_type (id, name)
                VALUES
                  (1, 'civil money claims'),
                  (2, 'possession claim'),
                  (3, 'insolvency'),
                  (4, 'private law'),
                  (5, 'public law'),
                  (6, 'divorce'),
                  (7, 'adoption'),
                  (8, 'gambling tribunal'),
                  (9, 'gender recognition tribunal'),
                  (10, 'immigration and asylum chamber tribunal'),
                  (11, 'property chamber'),
                  (12, 'tax chamber'),
                  (13, 'probate'),
                  (14, 'general'),
                  (15, 'magistrates');
          - sql:
              dbms: postgresql
              sql: >
                SELECT setval('amount_type_id_seq', max(id)) FROM amount_type;
                SELECT setval('channel_type_id_seq', max(id)) FROM channel_type;
                SELECT setval('direction_type_id_seq', max(id)) FROM direction_type;
                SELECT setval('event_type_id_seq', max(id)) FROM event_type;
                SELECT setval('fee_type_id_seq', max(id)) FROM fee_type;
                SELECT setval('jurisdiction1_id_seq', max(id)) FROM jurisdiction1;
                SELECT setval('jurisdiction2_id_seq', max(id)) FROM jurisdiction2;
                SELECT setval('service_type_id_seq', max(id)) FROM service_type;
    - changeSet:
        id: 19
        author: tarunp
        changes:
          - createTable:
              tableName: fee
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      primaryKeyName: pk_fee2_id
                      nullable: false
                - column:
                    name: code
                    type: varchar(10)
                    constraints:
                      nullable: false
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: memo_line
                    type: varchar(100)
                - column:
                    name: amount_type_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_amount_type_id
                      references: amount_type(id)
                - column:
                    name: channel_type_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_channel_type_id
                      references: channel_type(id)
                - column:
                    name: direction_type_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_direction_type_id
                      references: direction_type(id)
                - column:
                    name: event_type_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_event_type_id
                      references: event_type(id)
                - column:
                    name: fee_type_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_fee_type_id
                      references: fee_type(id)
                - column:
                    name: jurisdiction1_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_jurisdiction1_id
                      references: jurisdiction1(id)
                - column:
                    name: jurisdiction2_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_jurisdiction2_id
                      references: jurisdiction2(id)
                - column:
                    name: service_type_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_service_type_id
                      references: service_type(id)

    - changeSet:
        id: 20
        author: tarunp
        changes:
          - createTable:
              tableName: fee_version
              columns:
                - column:
                    name: id
                    type: bigint
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      nullable: false
                - column:
                    name: fee_id
                    type: bigint
                    constraints:
                      foreignKeyName: fk_fee2_id
                      references: fee(id)
                - column:
                    name: description
                    type: varchar(1000)
                - column:
                    name: version
                    type: int
                - column:
                    name: status
                    type: varchar(50)
                - column:
                    name: valid_from
                    type: timestamp
                - column:
                    name: valid_to
                    type: timestamp
                - column:
                    name: min_range
                    type: bigint
                - column:
                    name: max_range
                    type: bigint
                - column:
                    name: fee_amount
                    type: bigint
                - column:
                    name: min_fee_amount
                    type: bigint
                - column:
                    name: max_fee_amount
                    type: bigint
                - column:
                    name: percentage
                    type: decimal(3,2)
                - column:
                    name: creation_time
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: last_updated
                    type: timestamp
                    defaultValue: now()
                - column:
                    name: created_by
                    type: varchar(50)
                - column:
                    name: updated_by
                    type: varchar(50)


